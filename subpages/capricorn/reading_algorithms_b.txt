// this is for interacting with the bookshelf

if (player.time_of_day > 23){
	msg ("It's midnight and you're not retired anymore. Go to bed.")
}
else if ((bookshelf.bible = false) and (bookshelf.lovers = false) and (bookshelf.legend = false) and (bookshelf.black_death = false) and (bookshelf.dante = false) and (bookshelf.aesop = false) and (bookshelf.travel = false) and (bookshelf.marco_polo = false) and (bookshelf.plato = false) and (bookshelf.hunting = false) and (bookshelf.plants = false) and (bookshelf.witch_hunt = false) and (bookshelf.greek = false) and (bookshelf.latin = false) and (bookshelf.first_aid = false)){
	msg ("Your bookshelf is empty. You find yourself feeling depressed and so you make a mental note to visit Rinaldo at the bookstore the next time you're in Amalfi.")
}
else{
	menulist = NewStringList()
	if (bookshelf.bible = true){
		list add (menulist, "La Sacra Bibbia")
	}
	if (bookshelf.lovers = true){
		list add (menulist, "Historia de Duobus Amantibus")
	}
	if (bookshelf.legend = true){
		list add (menulist, "Legenda Aurea")
	}
	if (bookshelf.black_death = true){
		list add (menulist, "Decameron")
	}
	if (bookshelf.dante = true){
		list add (menulist, "Divina Commedia")
	}
	if (bookshelf.aesop = true){
		list add (menulist, "Aesopus Moralisatus")
	}
	if (bookshelf.travel = true){
		list add (menulist, "Peregrinatio in Terram Sanctam")
	}
	if (bookshelf.marco_polo = true){
		list add (menulist, "Il Milione")
	}
	if (bookshelf.plato = true){
		list add (menulist, "Opera Platonis")
	}
	if (bookshelf.hunting = true){
		list add (menulist, "Il Maestro della Caccia")
	}
	if (bookshelf.plants = true){
		list add (menulist, "Herbarium Apuleii Platonici")
	}
	if (bookshelf.witch_hunt = true){
		list add (menulist, "Malleus Maleficarum")
	}
	if (bookshelf.greek = true){
		list add (menulist, "Parlando Greco")
	}
	if (bookshelf.latin = true){
		list add (menulist, "Il Linguaggio Romano")
	}
	if (bookshelf.first_aid = true){
		list add (menulist, "Rosa Medicin√¶")
	}
	ShowMenu ("You have the following to read on your bookshelf:", menulist, true) {
		if (result = "La Sacra Bibbia") {
			bible_comprehension = 0
			player.devoted = true
			player.time_of_day = player.time_of_day + 1
			if (player.alignment < (-54)){
				player.alignment = player.alignment + 1
			}
			if ((DiceRoll("1d20") + skill_check(player.intelligence)) > 19){
				player.intelligence = player.intelligence + 1
				bible_comprehension = bible_comprehension + 1
			}
			if ((DiceRoll("1d20") + skill_check(player.wisdom)) > 19){
				player.wisdom = player.wisdom + 1
				bible_comprehension = bible_comprehension + 1
			}
			if (bible_comprehension > 0){
				msg ("You open your Bible to where the silk bookmark keeps your place and read on. You are struck by a passage that seems to have been written for you. You consider and internalize the wisdom, and breathe a prayer of reverence before setting the holy word aside for the day.")
			}
			else {
				msg ("You open your Bible to where the silk bookmark keeps your place and read on. After an hour of thoughtful reading, you put the book aside and carry on with your day.")
			}
		}
		else if (result = "Historia de Duobus Amantibus"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.lovers_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.lovers_progress = bookshelf.lovers_progress + 1
				msg ("You pick up the tale of two lovers and immerse yourself in a pope's portrayal of adulterous romance.")
			}
			else {
				msg ("You pick up what you affectionately refer to as the \"priest's porno\" and relive a few of your favorite bits.")
			}
		}
		else if (result = "Legenda Aurea"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.legend_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.legend_progress = bookshelf.legend_progress + 1
				msg ("You open the anthology and read about the heroics of the saints and tales of miraculous relics.")
			}
			else {
				msg ("You open the anthology to one of your favorite stories.")
			}
		}
		else if (result = "Decameron"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.black_death_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.black_death_progress = bookshelf.black_death_progress + 1
				msg ("You relax in bed and read on through the youths' exchange of tales.")
			}
			else {
				msg ("You relax in bed and reread one of your favorites from the youths' tales.")
			}
		}
		else if (result = "Divina Commedia"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.dante_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.dante_progress = bookshelf.dante_progress + 1
				msg ("You spend some time pouring over Dante's account of the various destinations that await humanity in the afterlife.")
			}
			else {
				msg ("You return to Dante's work and reconsider a chapter you've had on your mind.")
			}
		}
		else if (result = "Aesopus Moralisatus"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.aesop_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.aesop_progress = bookshelf.aesop_progress + 1
				msg ("You open the anthology of morality stories that your mother used to read to you and lose yourself in their nostalgia.")
			}
			else {
				msg ("You open the anthology of morality stories and peruse a few of your favorites.")
			}
		}
		else if (result = "Peregrinatio in Terram Sanctam"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.travel_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.travel_progress = bookshelf.travel_progress + 1
				msg ("You sit in bed and read the story of an artist's travels to the holy land.")
			}
			else {
				msg ("You sit in bed and reread some of your favorite bits from the travels of an artist in the holy land.")
			}
		}
		else if (result = "Il Milione"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.marco_polo_progress < 10){
				player.intelligence = player.intelligence + 1
				bookshelf.marco_polo_progress = bookshelf.marco_polo_progress + 1
				msg ("You lie on your side in bed and let yourself be drawn into the fascinating life story of Marco Polo and his fascinating travels.")
			}
			else {
				msg ("You lie on your side in bed and relive some of your favorite excerpts from Marco Polo's biography.")
			}
		}
		else if (result = "Opera Platonis"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.plato_progress < 20){
				player.intelligence = player.intelligence + 1
				bookshelf.plato_progress = bookshelf.plato_progress + 1
				msg ("You wade into the dense, vast work of Plato and apply yourself to an hour of intense study.")
			}
			else {
				msg ("You return to Plato's opus, rereading some select philosophies and mulling them over.")
			}
		}
		else if (result = "Il Maestro della Caccia"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.hunting_progress < 10){
				if ((DiceRoll("1d20") + skill_check(player.intelligence)) > 14){
					player.intelligence = player.intelligence + 1
					bookshelf.hunting_progress = bookshelf.hunting_progress + 1
					msg ("You pick your feet off the floor and study The Master of Hunting. You lose yourself in the poetic description of game species and the practice of hunting them. When you finish the chapter, you can tell you'll be ready to apply these techniques soon.")
					if (bookshelf.hunting_progress > 9){
						msg("<i>Study complete. Your comprehension and application of hunting has dramatically improved.</i>")
					}
				}
				else{
					msg ("You pick your feet off the floor and study The Master of Hunting. You apply yourself, and you enjoy immersing yourself in the hunting stories, but you can tell that you're going to have go over this section again.")
				}
			}
			else {
				msg ("You tuck yourself into the corner of the room with your hunting book, enjoying returning to the romantic descriptions of game species and their habits.")
			}
		}
		else if (result = "Herbarium Apuleii Platonici"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.plants_progress < 10){
				if ((DiceRoll("1d20") + skill_check(player.intelligence)) > 14){
					player.intelligence = player.intelligence + 1
					bookshelf.plants_progress = bookshelf.plants_progress + 1
					msg ("You open the beautiful field manual and start pouring over the illustrations, diagrams, and descriptions. As you move to each new species outlined in the book, you find yourself cross referencing the information with what you already know about the area.")
					if (bookshelf.plants_progress > 9){
						msg("<i>Study complete. Your ability to find and identify wild fare has dramatically improved.</i>")
					}
				}
				else{
					msg ("You open the beautiful field manual and dive into it. You give it your best, but after a while, words swim, subspecies begin to blend together and your mind begins to clay. It would probably be a good call to go over this section again.")
				}
			}
			else {
				msg ("You hunker down in bed with your prized field manual, going over some of the flora you encounter in the field from time to time.")
			}
		}
		else if (result = "Malleus Maleficarum"){
			player.time_of_day = player.time_of_day + 1
			if (bookshelf.witch_hunt_progress < 10){
				if ((DiceRoll("1d20") + skill_check(player.intelligence)) > 9){
					player.intelligence = player.intelligence + 1
					bookshelf.witch_hunt_progress = bookshelf.witch_hunt_progress + 1
					player.alignment = player.alignment - bookshelf.witch_hunt_progress
					msg ("")
					if (bookshelf.witch_hunt_progress > 9){
						msg("")
					}
				}
				else{
					msg ("")
				}
			}
			else {
				msg ("")
			}
		}

	}
}